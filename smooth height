document.addEventListener('DOMContentLoaded', () => { 

  const smoothHeight = (itemSelector, buttonSelector, contentSelector) => {

    const items = document.querySelectorAll(itemSelector) 

    if (!items.length) return 

    items.forEach(el => { 
      const button = el.querySelector(buttonSelector) 
      const content = el.querySelector(contentSelector) 

      button.addEventListener('click', () => { 
        if (el.dataset.open !== 'true') { 
          el.dataset.open = 'true' 
          content.style.maxHeight = `${ content.scrollHeight }px` 
        } else {
          el.dataset.open = 'false' 
          content.style.maxHeight = '' 
        }
      })

      const onResize = () => { 
        if (el.dataset.open === 'true') { 
          if (parseInt(content.style.maxHeight) !== content.scrollHeight) { 
            content.style.maxHeight = `${ content.scrollHeight }px` 
          }
        }
      }

      window.addEventListener('resize', onResize) 
    })

  }

  smoothHeight('.service-seo-filter__item', '.service-seo-filter__btn', '.service-seo-filter__list') 

})
